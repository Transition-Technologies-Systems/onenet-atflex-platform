<app-modal [showFooter]="true" [showHeader]="false" [showConfirmAfterEsc]="false" [showCancelBtn]="false">
  <div modal-content [formGroup]="form">
    <div class="formgrid grid">
      <div class="field col">
        <span class="field-control">
          <span class="p-float-label">
            <app-select
              [options]="dictionaries.kdmTypes$ | async"
              formControlName="kdmModelId"
              inputId="field-kdmModelId"
              aria-describedby="kdmModelId-help"
              [returnValueAsObject]="true"
              (onChange)="onKDMModelChange($event)"
            ></app-select>
            <label for="field-kdmModelId">{{ 'auctions.actions.bidsEvaluation.runAlgorithm.kdmModelId' | translate }}</label>
          </span>
          <ng-container *ngIf="form.get('kdmModelId')?.touched">
            <small id="kdmModelId-help" class="p-error" *ngIf="form.get('kdmModelId')?.hasError('required')">
              {{ 'validate.required' | translate }}
            </small>
          </ng-container>
        </span>

        <span class="field-control">
          <div class="field-checkbox mt-3">
            <p-checkbox
              [binary]="true"
              formControlName="kdmLvModel"
              inputId="field-kdmLvModel"
              [label]="'auctions.actions.bidsEvaluation.runAlgorithm.kdmLvModel' | translate"
            ></p-checkbox>
          </div>
        </span>
      </div>
    </div>
  </div>
  <div modal-footer>
    <button
      type="button"
      pButton
      [label]="'actions.cancel' | translate"
      (click)="close()"
      [ngClass]="'p-confirm-popup-reject'"
      class="p-button-text"
    ></button>
    <button
      appPreventDoubleClick
      type="button"
      pButton
      [label]="'auctions.actions.bidsEvaluation.runAlgorithm.btn' | translate"
      (click)="run()"
      [ngClass]="'p-confirm-popup-accept'"
    ></button>
  </div>
</app-modal>
